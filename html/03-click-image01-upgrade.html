<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>자바스크립트 공부하기 3일차</title>
    <style>
        * {margin: 0; padding: 0;}
        li {list-style: none;}
        .photos {width: 400px;}
        .photos > ul {overflow: hidden;}
        .photos > ul > li {width: 25%; height: 77px; float: left; box-sizing: border-box;}
        .photos > ul > li.on {border: 4px solid lime;}
        .photos > ul > li img {width: 100%; height: 100%; vertical-align: top;}
        .photos #placeholder {width: 100%;}
    </style>
</head>
<body>
    <div class="photos">
        <h1>나의 사진첩</h1>
        <ul id="photo_list">
            <li class="on">
                <a href="../image/bigben.jpg">
                    <img src="../image/bigben.jpg" alt="멋진 건물">
                </a>
            </li>
            <li>
                <a href="../image/coffee.jpg">
                    <img src="../image/coffee.jpg" alt="향기로운 커피">
                </a>
            </li>
            <li>
                <a href="../image/fireworks.jpg">
                    <img src="../image/fireworks.jpg" alt="화려한 불꽃놀이">
                </a>
            </li>
            <li>
                <a href="../image/rose.jpg">
                    <img src="../image/rose.jpg" alt="아름다운 장미">
                </a>
            </li>
        </ul>
        <img id="placeholder" src="http://placehold.it/400x300"/>
        <p id="desc">사진설명</p>
    </div>

    <script>
        // 부모태그한테 addEventListener 걸어주는 코드
        const ulElem = document.querySelector('#photo_list');
        const liElems = ulElem.querySelectorAll('li');
        const placeholder = document.querySelector('#placeholder');
        const desc = document.querySelector('#desc');

        ulElem.addEventListener('click', clickWork);
        function clickWork(ev) {
            const targetImg = ev.target;
            const targetA = targetImg.parentNode;
            const targetLi = targetA.parentNode;
            // console.log() // img
            // console.log(ev.target.parentNode) // a
            // console.log(ev.target.parentNode.parentNode) // li
            ev.preventDefault();
            if (targetImg.tagName !== 'IMG') {
                return;
            }
            
            for (let i = 0; i < liElems.length; i++) {
                liElems[i].className = '';
            }
            targetLi.className = 'on';
            placeholder.src =  targetA.href;
            desc.childNodes[0].nodeValue = targetImg.alt;
        };
    </script>
</body>
</html>